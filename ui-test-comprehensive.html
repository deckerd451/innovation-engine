<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive UI Test</title>
  
  <!-- Enhanced UI CSS -->
  <link rel="stylesheet" href="assets/css/enhanced-ui.css" />
  <link rel="stylesheet" href="assets/css/animations.css" />
  <link rel="stylesheet" href="assets/css/mobile-optimized.css" />
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  
  <style>
    body {
      background: linear-gradient(135deg, #0a0e27 0%, #1a1a2e 50%, #16213e 100%);
      color: white;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 2rem;
      min-height: 100vh;
    }
    
    .test-section {
      background: rgba(0,224,255,0.05);
      border: 1px solid rgba(0,224,255,0.2);
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
    }
    
    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }
    
    .test-card {
      background: rgba(0,224,255,0.08);
      border: 1px solid rgba(0,224,255,0.25);
      border-radius: 8px;
      padding: 1.5rem;
      transition: all 0.3s;
    }
    
    .test-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,224,255,0.2);
    }
    
    .btn {
      background: linear-gradient(135deg, rgba(0,224,255,0.3), rgba(0,224,255,0.2));
      border: 1px solid rgba(0,224,255,0.5);
      color: #00e0ff;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      margin: 0.5rem;
      transition: all 0.2s;
    }
    
    .btn:hover {
      background: linear-gradient(135deg, rgba(0,224,255,0.4), rgba(0,224,255,0.3));
      transform: translateY(-1px);
    }
    
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 0.5rem;
    }
    
    .status-success { background: #00ff88; }
    .status-error { background: #ff6b6b; }
    .status-warning { background: #ffa500; }
  </style>
</head>
<body>
  <h1><i class="fas fa-flask"></i> UI Enhancements Comprehensive Test</h1>
  
  <!-- System Status -->
  <div class="test-section">
    <h2><i class="fas fa-heartbeat"></i> System Status</h2>
    <div id="system-status">
      <div id="status-ui-enhancements">
        <span class="status-indicator status-warning"></span>
        UI Enhancements: <span id="status-ui-text">Loading...</span>
      </div>
      <div id="status-search">
        <span class="status-indicator status-warning"></span>
        Enhanced Search: <span id="status-search-text">Loading...</span>
      </div>
      <div id="status-animations">
        <span class="status-indicator status-warning"></span>
        Animations: <span id="status-animations-text">Loading...</span>
      </div>
    </div>
  </div>

  <!-- Animation Tests -->
  <div class="test-section">
    <h2><i class="fas fa-magic"></i> Animation System</h2>
    <div class="test-grid">
      <div class="test-card" data-animate="fadeInUp">
        <h3>Fade In Up</h3>
        <p>This card should fade in from below.</p>
      </div>
      <div class="test-card" data-animate="slideInLeft" data-stagger="1">
        <h3>Slide In Left</h3>
        <p>This card should slide in from the left with delay.</p>
      </div>
      <div class="test-card" data-animate="slideInRight" data-stagger="2">
        <h3>Slide In Right</h3>
        <p>This card should slide in from the right with more delay.</p>
      </div>
    </div>
    <button class="btn" onclick="testAnimateElement()">
      <i class="fas fa-play"></i> Test Manual Animation
    </button>
  </div>

  <!-- Interactive Elements -->
  <div class="test-section">
    <h2><i class="fas fa-mouse-pointer"></i> Interactive Elements</h2>
    <div class="test-grid">
      <div class="test-card">
        <h3>Ripple Effects</h3>
        <button class="btn" onclick="testRipple(this, event)">
          <i class="fas fa-water"></i> Test Ripple
        </button>
      </div>
      <div class="test-card">
        <h3>Loading States</h3>
        <button class="btn" id="loading-test-btn" onclick="testLoadingState()">
          <i class="fas fa-spinner"></i> Test Loading
        </button>
      </div>
      <div class="test-card">
        <h3>Skeleton Loading</h3>
        <div id="skeleton-test-content">
          <h4>Sample Content</h4>
          <p>This content will be replaced with skeleton loading.</p>
        </div>
        <button class="btn" onclick="testSkeleton()">
          <i class="fas fa-ghost"></i> Test Skeleton
        </button>
      </div>
    </div>
  </div>

  <!-- Notifications -->
  <div class="test-section">
    <h2><i class="fas fa-bell"></i> Notification System</h2>
    <div class="test-grid">
      <div class="test-card">
        <h3>Toast Notifications</h3>
        <button class="btn" onclick="testToast('success')">
          <i class="fas fa-check"></i> Success
        </button>
        <button class="btn" onclick="testToast('error')">
          <i class="fas fa-times"></i> Error
        </button>
        <button class="btn" onclick="testToast('warning')">
          <i class="fas fa-exclamation"></i> Warning
        </button>
        <button class="btn" onclick="testToast('info')">
          <i class="fas fa-info"></i> Info
        </button>
      </div>
    </div>
  </div>

  <!-- Enhanced Search -->
  <div class="test-section">
    <h2><i class="fas fa-search"></i> Enhanced Search System</h2>
    <div class="test-grid">
      <div class="test-card">
        <h3>Search Interface</h3>
        <button class="btn" onclick="testEnhancedSearch()">
          <i class="fas fa-search-plus"></i> Open Enhanced Search
        </button>
        <button class="btn" onclick="testSearchWithQuery()">
          <i class="fas fa-search"></i> Search "React"
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Responsiveness -->
  <div class="test-section">
    <h2><i class="fas fa-mobile-alt"></i> Mobile Responsiveness</h2>
    <p>Resize your browser window to test mobile responsiveness.</p>
    <button class="btn" onclick="testMobileView()">
      <i class="fas fa-expand-arrows-alt"></i> Simulate Mobile View
    </button>
  </div>

  <!-- Performance -->
  <div class="test-section">
    <h2><i class="fas fa-tachometer-alt"></i> Performance Tests</h2>
    <div id="performance-results">
      <p>Performance metrics will appear here...</p>
    </div>
    <button class="btn" onclick="runPerformanceTests()">
      <i class="fas fa-stopwatch"></i> Run Performance Tests
    </button>
  </div>

  <!-- Load the UI enhancement modules -->
  <script type="module" src="assets/js/ui-enhancements.js"></script>
  <script type="module" src="assets/js/enhanced-search-discovery.js"></script>

  <script>
    // Test functions
    let testResults = {
      uiEnhancements: false,
      enhancedSearch: false,
      animations: false
    };

    // Check system status
    function checkSystemStatus() {
      // Check UI Enhancements
      const uiFunctions = ['rippleEffect', 'createToast', 'showLoadingState', 'animateElement'];
      const uiAvailable = uiFunctions.every(fn => typeof window[fn] === 'function');
      
      updateStatus('ui-enhancements', uiAvailable, 
        uiAvailable ? 'All functions available' : 'Some functions missing');
      testResults.uiEnhancements = uiAvailable;

      // Check Enhanced Search
      const searchFunctions = ['openEnhancedSearch', 'performEnhancedSearch', 'applySearchFilters'];
      const searchAvailable = searchFunctions.every(fn => typeof window[fn] === 'function');
      
      updateStatus('search', searchAvailable,
        searchAvailable ? 'Search system ready' : 'Search functions missing');
      testResults.enhancedSearch = searchAvailable;

      // Check Animations
      const animatedElements = document.querySelectorAll('[data-animate]');
      const animationsAvailable = animatedElements.length > 0;
      
      updateStatus('animations', animationsAvailable,
        animationsAvailable ? `${animatedElements.length} animated elements found` : 'No animated elements');
      testResults.animations = animationsAvailable;

      console.log('System Status Check:', testResults);
    }

    function updateStatus(type, success, message) {
      const indicator = document.querySelector(`#status-${type} .status-indicator`);
      const text = document.querySelector(`#status-${type}-text`);
      
      if (indicator && text) {
        indicator.className = `status-indicator ${success ? 'status-success' : 'status-error'}`;
        text.textContent = message;
      }
    }

    // Test functions
    function testRipple(button, event) {
      if (window.rippleEffect) {
        window.rippleEffect(button, event);
        console.log('‚úÖ Ripple effect test passed');
      } else {
        console.error('‚ùå rippleEffect function not available');
        alert('Ripple effect not available');
      }
    }

    function testToast(type) {
      const messages = {
        success: 'Operation completed successfully!',
        error: 'An error occurred during the operation.',
        warning: 'Please check your input before proceeding.',
        info: 'Here is some helpful information.'
      };

      if (window.createToast) {
        window.createToast(messages[type], type);
        console.log(`‚úÖ Toast notification test passed: ${type}`);
      } else {
        console.error('‚ùå createToast function not available');
        alert('Toast notifications not available');
      }
    }

    function testLoadingState() {
      const btn = document.getElementById('loading-test-btn');
      if (window.showLoadingState && window.hideLoadingState) {
        window.showLoadingState(btn, 'Processing...');
        setTimeout(() => {
          window.hideLoadingState(btn);
          console.log('‚úÖ Loading state test passed');
        }, 3000);
      } else {
        console.error('‚ùå Loading state functions not available');
        alert('Loading state functions not available');
      }
    }

    function testSkeleton() {
      const content = document.getElementById('skeleton-test-content');
      if (window.showSkeleton && window.hideSkeleton) {
        window.showSkeleton(content, 'card');
        setTimeout(() => {
          window.hideSkeleton(content);
          console.log('‚úÖ Skeleton loading test passed');
        }, 2000);
      } else {
        console.error('‚ùå Skeleton functions not available');
        alert('Skeleton loading functions not available');
      }
    }

    function testAnimateElement() {
      const card = document.querySelector('.test-card');
      if (window.animateElement) {
        window.animateElement(card, 'bounce', 0);
        console.log('‚úÖ Manual animation test passed');
      } else {
        console.error('‚ùå animateElement function not available');
        alert('Animation function not available');
      }
    }

    function testEnhancedSearch() {
      if (window.openEnhancedSearch) {
        window.openEnhancedSearch();
        console.log('‚úÖ Enhanced search test passed');
      } else {
        console.error('‚ùå openEnhancedSearch function not available');
        alert('Enhanced search not available');
      }
    }

    function testSearchWithQuery() {
      if (window.openEnhancedSearch) {
        window.openEnhancedSearch('React', 'people');
        console.log('‚úÖ Enhanced search with query test passed');
      } else {
        console.error('‚ùå openEnhancedSearch function not available');
        alert('Enhanced search not available');
      }
    }

    function testMobileView() {
      // Simulate mobile viewport
      const viewport = document.querySelector('meta[name=viewport]');
      if (viewport) {
        viewport.content = 'width=375, initial-scale=1.0';
        setTimeout(() => {
          viewport.content = 'width=device-width, initial-scale=1.0';
          console.log('‚úÖ Mobile view simulation completed');
        }, 3000);
      }
    }

    function runPerformanceTests() {
      const results = document.getElementById('performance-results');
      const startTime = performance.now();
      
      // Test animation performance
      const testElement = document.createElement('div');
      testElement.style.cssText = `
        width: 100px;
        height: 100px;
        background: #00e0ff;
        position: fixed;
        top: -100px;
        left: 50%;
        transform: translateX(-50%);
        transition: all 0.3s;
      `;
      document.body.appendChild(testElement);
      
      setTimeout(() => {
        testElement.style.top = '50px';
        
        setTimeout(() => {
          testElement.remove();
          const endTime = performance.now();
          const duration = endTime - startTime;
          
          results.innerHTML = `
            <div><strong>Performance Results:</strong></div>
            <div>Test Duration: ${duration.toFixed(2)}ms</div>
            <div>Memory Usage: ${(performance.memory?.usedJSHeapSize / 1024 / 1024).toFixed(2) || 'N/A'} MB</div>
            <div>Animation Performance: ${duration < 100 ? 'Good' : 'Needs Optimization'}</div>
          `;
          
          console.log('‚úÖ Performance tests completed:', { duration, memory: performance.memory });
        }, 500);
      }, 100);
    }

    // Initialize tests when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      console.log('üß™ UI Test Suite Initialized');
      
      // Check status after a short delay to allow modules to load
      setTimeout(checkSystemStatus, 1000);
      
      // Re-check status periodically
      setInterval(checkSystemStatus, 5000);
    });

    // Global error handler
    window.addEventListener('error', (e) => {
      console.error('‚ùå JavaScript Error:', e.error);
      const errorDiv = document.createElement('div');
      errorDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ff6b6b;
        color: white;
        padding: 1rem;
        border-radius: 8px;
        z-index: 10000;
        max-width: 400px;
      `;
      errorDiv.innerHTML = `
        <strong>JavaScript Error:</strong><br>
        ${e.error?.message || e.message}
      `;
      document.body.appendChild(errorDiv);
      
      setTimeout(() => errorDiv.remove(), 5000);
    });
  </script>
</body>
</html>