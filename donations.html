<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Donate to CharlestonHacks</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Font Awesome CSS for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
  <main class="container">
    <!-- ... other content ... -->
    <section class="card-container">
      <!-- GitHub Sponsors Card -->
      <div class="team-member-card">
        <img src="images/gh.png" alt="GitHub Sponsors" />
        <div class="member-name">GitHub Sponsors</div>
        <p class="user-status">Become a recurring sponsor</p>
        <button class="endorse-btn" onclick="window.open('https://github.com/sponsors/deckerd451', '_blank')">
          <i class="fab fa-github fa-sm"></i> Sponsor on GitHub
        </button>
      </div>

      <!-- BTCPay Donate Card -->
      <div class="team-member-card">
        <img src="images/bit.png" alt="Bitcoin Donation" />
        <div class="member-name">Donate with Bitcoin</div>
        <p class="user-status">Secure & borderless</p>
        <!-- Updated BTCPay donation form -->
        <form class="endorse-btn" method="POST" action="https://<YOUR-BTCPAY-SERVER>/api/v1/invoices" onsubmit="onBTCPayFormSubmit(event); return false;">
          <input type="hidden" name="storeId" value="<YOUR_STORE_ID>" />
          <input type="hidden" name="price" value="10" />
          <input type="hidden" name="currency" value="USD" />
          <input type="hidden" name="checkoutDesc" value="Donation to CharlestonHacks" />
          <input type="hidden" name="jsonResponse" value="true" />
          <button type="submit">
            <i class="fab fa-bitcoin fa-sm"></i> Donate BTC
          </button>
        </form>
      </div>
    </section>
    <!-- ... other content ... -->
  </main>

  <footer> ... </footer>

  <!-- BTCPay modal script and form handler -->
  <script src="https://<YOUR-BTCPAY-SERVER>/modal/btcpay.js"></script>
  <script>
    function onBTCPayFormSubmit(event) {
      event.preventDefault();
      var form = event.target;
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText) {
          var response = JSON.parse(xhr.responseText);
          window.btcpay.showInvoice(response.invoiceId);  // Open the BTCPay invoice modal
        }
      };
      xhr.open("POST", form.action, true);
      xhr.send(new FormData(form));
    }
  </script>
</body>
</html>
