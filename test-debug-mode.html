<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Mode Test</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #0a0e27;
      color: #fff;
    }
    .status-box {
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      border: 2px solid rgba(0,224,255,0.3);
      background: rgba(0,224,255,0.05);
    }
    button {
      padding: 12px 24px;
      margin: 10px 5px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn-enable {
      background: linear-gradient(135deg, #00e0ff, #0080ff);
      color: white;
    }
    .btn-disable {
      background: rgba(255,107,107,0.3);
      border: 1px solid rgba(255,107,107,0.5);
      color: #ff6b6b;
    }
    .btn-test {
      background: rgba(0,255,136,0.2);
      border: 1px solid rgba(0,255,136,0.4);
      color: #00ff88;
    }
    code {
      background: rgba(0,0,0,0.3);
      padding: 2px 6px;
      border-radius: 3px;
      color: #00e0ff;
    }
  </style>
</head>
<body>
  <h1>üêõ Debug Mode Test</h1>
  
  <div class="status-box">
    <h3>Current Status:</h3>
    <div id="status"></div>
  </div>

  <div>
    <button class="btn-enable" onclick="enableDebugMode()">Enable Debug Mode</button>
    <button class="btn-disable" onclick="disableDebugMode()">Disable Debug Mode</button>
    <button class="btn-test" onclick="testLogging()">Test Logging</button>
  </div>

  <div class="status-box">
    <h3>Instructions:</h3>
    <ol>
      <li>Open the browser console (F12)</li>
      <li>Click "Enable Debug Mode" to turn on verbose logging</li>
      <li>Click "Test Logging" to see debug messages</li>
      <li>Click "Disable Debug Mode" to turn off verbose logging</li>
      <li>Click "Test Logging" again - debug messages should not appear</li>
    </ol>
    <p><strong>Note:</strong> This simulates what the admin panel checkbox does.</p>
  </div>

  <script type="module">
    import log from './assets/js/logger.js';
    window.log = log;
    
    function updateStatus() {
      const debugFlag = localStorage.getItem('DEBUG');
      const unifiedDebugFlag = localStorage.getItem('unified-network-debug');
      const isDebugMode = log.isDebugMode();
      
      document.getElementById('status').innerHTML = `
        <p><code>DEBUG</code> flag: <strong>${debugFlag || 'not set'}</strong></p>
        <p><code>unified-network-debug</code> flag: <strong>${unifiedDebugFlag || 'not set'}</strong></p>
        <p>Logger debug mode: <strong style="color: ${isDebugMode ? '#00ff88' : '#ff6b6b'}">${isDebugMode ? 'ENABLED ‚úÖ' : 'DISABLED ‚ùå'}</strong></p>
      `;
    }
    
    window.enableDebugMode = function() {
      localStorage.setItem('unified-network-debug', 'true');
      localStorage.setItem('DEBUG', '1');
      console.log('üêõ Debug mode enabled - verbose console logging activated');
      updateStatus();
    };
    
    window.disableDebugMode = function() {
      localStorage.removeItem('unified-network-debug');
      localStorage.removeItem('DEBUG');
      console.log('üêõ Debug mode disabled - console logging minimized');
      updateStatus();
    };
    
    window.testLogging = function() {
      console.log('\n--- Testing Logging ---');
      log.debug('üîç This is a DEBUG message - should only appear when debug mode is ON');
      log.info('‚ÑπÔ∏è This is an INFO message - always appears');
      log.warn('‚ö†Ô∏è This is a WARN message - always appears');
      console.log('--- End Test ---\n');
    };
    
    // Initial status
    updateStatus();
    
    // Test on load
    console.log('Debug mode test page loaded');
    log.debug('If you see this, debug mode is currently enabled');
  </script>
</body>
</html>
