<!DOCTYPE html>
<html lang="en-US">
<head>
  <!-- —— Neuron redirect —— -->
  <script>
    const params = new URLSearchParams(window.location.search);
    if (params.get('source') === 'neuron') {
      window.location.href = '/neural.html?' + params.toString();
    }
  </script>

  <!-- —— Google Analytics —— -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6NDKG07DY6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-6NDKG07DY6');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>CharlestonHacks - Home</title>
  <meta name="description" content="Join CharlestonHacks for transformative hackathons and tech meetups in Charleston, SC. Build, learn, and connect with local innovators."/>
  <meta property="og:title" content="CharlestonHacks | Charleston Hackathons & Tech Events"/>
  <meta property="og:description" content="CharlestonHacks promotes tech events, meetups and hackathons. Join us for exciting events and stay updated."/>
  <meta property="og:image" content="images/websitepanel.webp"/>
  <meta property="og:url" content="https://charlestonhacks.com"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png"/>
  <link rel="manifest" href="/manifest.json"/>
  <meta name="theme-color" content="#ff6600"/>
  <link rel="canonical" href="https://charlestonhacks.com"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* —— Splash Screen Animation —— */
    #splash-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at center, rgba(15,15,25,0.96) 0%, rgba(0,0,0,0.98) 100%);
      backdrop-filter: blur(12px);
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 9999;
      opacity: 0;
      transform: scale(1.05);
      transition: opacity 1s ease, transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    #splash-overlay.active {
      display: flex;
      opacity: 1;
      transform: scale(1);
      animation: bgPulse 5s ease-in-out infinite;
    }

    #splash-overlay.fade-out {
      opacity: 0;
      transform: scale(0.98);
      transition: opacity 1s ease, transform 1.2s cubic-bezier(0.86, 0, 0.07, 1);
      animation: none;
    }

    /* —— Pulsing glow —— */
    @keyframes bgPulse {
      0%   { background-color: rgba(15,15,25,0.96); box-shadow: 0 0 30px rgba(255,102,0,0.2) inset; }
      50%  { background-color: rgba(20,20,30,0.96); box-shadow: 0 0 60px rgba(255,102,0,0.5) inset; }
      100% { background-color: rgba(15,15,25,0.96); box-shadow: 0 0 30px rgba(255,102,0,0.2) inset; }
    }

    #splash-content {
      text-align: center;
      color: white;
      max-width: 400px;
      animation: textGlow 2.8s ease-in-out infinite alternate;
    }

    @keyframes textGlow {
      from { text-shadow: 0 0 10px rgba(255,102,0,0.3); }
      to   { text-shadow: 0 0 25px rgba(255,102,0,0.8); }
    }

    #splash-logo {
      width: 140px;
      height: auto;
      margin-bottom: 1rem;
      filter: drop-shadow(0 0 15px rgba(255,102,0,0.5));
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .btn {
      background: linear-gradient(135deg, #ff6600, #ff8533);
      border: none;
      color: #fff;
      padding: 0.6rem 1.4rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.25s ease, box-shadow 0.3s ease;
      box-shadow: 0 0 20px rgba(255,102,0,0.3);
    }

    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(255,102,0,0.6);
    }

    /* —— Neural background pulse sync —— */
    canvas#neural-bg.splash-active {
      animation: neuralPulse 5s ease-in-out infinite;
    }

    @keyframes neuralPulse {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3) saturate(1.2); }
    }

    /* —— Icon progressive reveal —— */
    .icons-container a {
      opacity: 0;
      transform: scale(0.85);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .icons-container a.visible {
      opacity: 1;
      transform: scale(1);
    }
  </style>
</head>

<body>
  <!-- —— Neural Background —— -->
  <canvas id="neural-bg"></canvas>

  <noscript>
    <div style="background:#111;color:white;text-align:center;padding:1em;font-size:1rem;">
      ⚠️ JavaScript is disabled. For the full CharlestonHacks experience, please enable JavaScript.
    </div>
  </noscript>

  <!-- —— Splash Screen —— -->
  <div id="splash-overlay" role="dialog" aria-modal="true" tabindex="-1">
    <div id="splash-content">
      <img id="splash-logo" src="images/charlestonhackslogo.svg" alt="CharlestonHacks Logo" />
      <h1 id="splash-title">Welcome to CharlestonHacks</h1>
      <p id="splash-desc">Loading…</p>

      <label id="dont-show-label" style="margin-top:1em; display:flex; align-items:center; gap:.5em; font-size:.9rem;">
        <input type="checkbox" id="dont-show-again" />
        Don’t show this welcome screen again
      </label>

      <div id="splash-buttons" class="button-container">
        <button id="community-site-btn" class="btn">Community Site</button>
        <button id="public-site-btn" class="btn">Public Site</button>
      </div>

      <p id="splash-copyright" style="font-size:.8rem; opacity:.7; margin-top:2rem;">
        © 2025 CharlestonHacks. All rights reserved.
      </p>
    </div>
  </div>

  <!-- —— Audio assets —— -->
  <audio id="cardflipSound" src="assets/atmospherel.m4a" preload="auto"></audio>
  <audio id="chimeSound" src="assets/chime.mp3" preload="auto"></audio>
  <audio id="keysSound" src="assets/keys.m4a" preload="auto"></audio>

  <!-- —— Main Interactive Card —— -->
  <main>
    <div class="main-wrapper">
      <div class="media-container" aria-label="Toggle mission content" tabindex="0">
        <div id="countdown" aria-live="polite"></div>
        <div id="btcPrice" aria-live="polite"></div>

        <img id="missionImage" src="icons/card.png" alt="Big Playing Card" style="z-index:3;" />
        <img id="cardFrame" src="images/cardframe2.svg" alt="Card Frame" style="display:none;" />
        <video id="missionVideo" muted playsinline controls style="display:none; opacity:0;">
          <source src="" type="video/mp4" />
        </video>

        <!-- —— Interactive Buttons —— -->
        <button type="button" class="clickable-area top-left" data-sound="chime" data-url="Poster.html" data-info="Learn more about the event poster.">
          <img src="images/informationbutton.webp" alt="Info" />
        </button>
        <button type="button" class="clickable-area top-center" data-sound="chime" data-url="docs.html" data-info="Read event documentation and resources.">
          <img src="images/crestn.svg" alt="Crest" />
        </button>
        <button type="button" class="clickable-area top-right" data-sound="chime" data-url="2card.html" data-info="Explore the innovation engine.">
          <img src="images/innovationenginebutton.webp" alt="Innovation" />
        </button>
        <button type="button" class="clickable-area middle-left" data-sound="chime" data-url="experimental.html" data-info="Experiment in the sandbox environment.">
          <img src="images/experiment.webp" alt="Experiment" />
        </button>
        <button type="button" class="clickable-area middle-right" data-sound="chime" data-url="swag.html" data-info="View and order event swag.">
          <img src="images/case.webp" alt="Case" />
        </button>
        <button type="button" class="clickable-area bottom-left" data-sound="chime" data-url="news.html" data-info="Catch up on the latest news.">
          <img src="images/newsbutton.webp" alt="News" />
        </button>
        <button type="button" class="clickable-area bottom-center" data-sound="keys" data-url="donations.html" data-info="Sponsor CharlestonHacks and unlock perks.">
          <img src="images/keysn.svg" alt="Keys" />
        </button>
        <button type="button" class="clickable-area bottom-right" data-sound="chime" data-url="cardmatchgame.html" data-info="Play the card match game.">
          <img src="images/peoplebutton.webp" alt="People" />
        </button>

        <div id="infoLine" class="info-line">
          <span id="infoParticle"></span><span id="infoText"></span>
        </div>
      </div>
    </div>

    <section class="icons-container">
      <a href="https://github.com/sponsors/deckerd451" target="_blank" aria-label="Sponsor CharlestonHacks"><i class="fas fa-heart"></i></a>
      <a href="2card.html" aria-label="Innovation Engine"><i class="fas fa-people-arrows"></i></a>
      <a href="subscribe.html" aria-label="Subscribe"><i class="fas fa-bell"></i></a>
      <a href="https://www.linkedin.com/company/charlestonhacks" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
      <a href="https://www.instagram.com/charlestonhacks/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="mailto:hello@charlestonhacks.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
      <a href="https://www.facebook.com/deckerdb26354" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
    </section>
  </main>

  <!-- —— Splash Logic —— -->
  <script>
  (function () {
    const overlay = document.getElementById('splash-overlay');
    const dontShow = document.getElementById('dont-show-again');
    const communityBtn = document.getElementById('community-site-btn');
    const publicBtn = document.getElementById('public-site-btn');
    const bgCanvas = document.getElementById('neural-bg');
    const key = 'chs_splash_seen_once';

    function hideSplash(immediate = false) {
      overlay.classList.add('fade-out');
      bgCanvas.classList.remove('splash-active');
      setTimeout(() => {
        overlay.style.display = 'none';
        document.body.classList.remove('splash-active');
      }, immediate ? 0 : 1000);
    }

    function dismissSplash() {
      if (dontShow.checked) localStorage.setItem(key, 'true');
      hideSplash();
    }

    function maybeShowSplash() {
      const seen = localStorage.getItem(key);
      if (seen === 'true') {
        overlay.style.display = 'none';
        return;
      }

      overlay.style.display = 'flex';
      bgCanvas.classList.add('splash-active');
      setTimeout(() => overlay.classList.add('active'), 100);
      document.body.classList.add('splash-active');

      communityBtn.addEventListener('click', dismissSplash);
      publicBtn.addEventListener('click', () => {
        dismissSplash();
        window.location.href = 'https://charlestonhacks.mailchimpsites.com/';
      });
    }

    window.addEventListener('DOMContentLoaded', maybeShowSplash);
  })();
  </script>

  <!-- —— Card Flip + Progressive Icon Reveal —— -->
  <script type="module">
    import { CONFIG } from './assets/js/config.js';
    import { initCardFlip } from './assets/js/cardFlip.js';
    import { startBTCPriceTracker } from './assets/js/btc.js';
    import { startCountdown } from './assets/js/countdown.js';

    CONFIG.sounds = {
      cardflip: document.getElementById('cardflipSound'),
      chime: document.getElementById('chimeSound'),
      keys: document.getElementById('keysSound'),
    };

    const icons = document.querySelectorAll('.icons-container a');
    const storageKey = 'chs_icons_revealed';

    // Load saved reveal state
    let revealedCount = parseInt(localStorage.getItem(storageKey) || '0', 10);
    for (let i = 0; i < revealedCount && i < icons.length; i++) {
      icons[i].classList.add('visible');
    }

    // Reveal next icon each card flip
    function revealNextIcon() {
      if (revealedCount < icons.length) {
        icons[revealedCount].classList.add('visible');
        revealedCount++;
        localStorage.setItem(storageKey, revealedCount.toString());
      }
    }

    // Hook into card flip animation
    CONFIG.onCardFlip = () => revealNextIcon();

    initCardFlip(CONFIG);
    startBTCPriceTracker('btcPrice');
    startCountdown('countdown', '2025-10-03T00:00:00-04:00');
  </script>

  <script type="module" src="assets/js/neuralBackground.js"></script>
</body>
</html>
